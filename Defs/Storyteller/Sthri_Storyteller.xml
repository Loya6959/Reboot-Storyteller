<?xml version="1.0" encoding="utf-8"?>

<Defs>
    <StorytellerDef ParentName="BaseStoryteller">
        <defName>Reboot_Sthri</defName> <!-- 定义名 必须确保唯一 -->
        <label>「温和」斯瑞Sthri</label> <!-- 叙事者名 -->
        <description>「Re:boot No.003」\n\n来自亚美利戈的一个出逃家政机器人，在逃亡的途中被拉入到REBOOT_SYSTEM。\n\n斯瑞是一个和平主义者，通常不会给予太难的挑战，她总会留出充足的时间让你开拓建设。\n\n不过……如果打算用一些能让她崩溃的手段干掉她，那你就完蛋了。\n\n值得一提的是，斯瑞很喜欢画画，也许你可以试试搓出大师级的东西？</description>
        <portraitLarge>Storyteller/Sthri/Sthri_Teller</portraitLarge>
        <portraitTiny>Storyteller/Sthri/Sthri_TellerTiny</portraitTiny>
        <listOrder>53</listOrder>
        <adaptDaysGameStartGraceDays>35</adaptDaysGameStartGraceDays> <!--多给五天的适应天数宽限期-->
        <populationIntentFactorFromPopCurve>
            <!-- 根据人口规模计算事件强度因子 -->
            <points>
                <li>0, 8.0</li>
                <li>1, 2.0</li>
                <li>3, 1.0</li>
                <li>6, 0.6</li>
                <li>10, 0.25</li>
                <li>20,-0.65</li>
                <li>25,-1.0</li>
            </points>
        </populationIntentFactorFromPopCurve>
        <pointsFactorFromDaysPassed>
            <!-- 根据经过天数计算的事件强度因子 -->
            <points> <!--均在原版曲线的基础上多加了五天-->
                <li>(15, 0.70)</li>
                <li>(45, 1.00)</li>
            </points>
        </pointsFactorFromDaysPassed>
        <adaptDaysLossFromColonistLostByPostPopulation>
            <!-- 根据人口损失减少适应天数 -->
            <points>
                <li>( 0, 35)</li> <!-- 30 days at normal pops; lower at really high pop -->
                <li>(11, 35)</li>
                <li>(20, 25)</li>
            </points>
        </adaptDaysLossFromColonistLostByPostPopulation>
        <pointsFactorFromAdaptDays>
            <!-- 根据适应天数计算的事件强度因子 -->
            <points>
                <li>(-30, 0.30)</li>  <!-- recover in 10 days -->
                <li>( 0, 0.60)</li>  <!-- start at     0.80  -->
                <li>( 30, 0.75)</li>  <!-- 0.5 years to 1.00  -->
                <li>( 60, 0.90)</li>  <!-- 0.5 years to 1.20  -->
                <li>(120, 1.20)</li>  <!-- 2   years to 1.60  -->
            </points>
        </pointsFactorFromAdaptDays>

        <comps>
            <!-- 注：模板提取自Rimworld: Core的卡桑德拉 -->
            <!-- Intro（介绍）先不要 -->
            <li Class="StorytellerCompProperties_ClassicIntro" />
            <!-- 我自己要触发的事件 -->
            <li Class="StorytellerCompProperties_SingleOnceFixed">
                <!-- 分别在16、30、60、90天触发四次弹窗 -->
                <fireAfterDaysPassed>16</fireAfterDaysPassed>
                <incident>RebootStoryteller_TextInputEvent</incident>
                <allowedTargetTags>
                    <li>World</li>
                </allowedTargetTags>
            </li>

            <li Class="StorytellerCompProperties_SingleOnceFixed">
                <fireAfterDaysPassed>30</fireAfterDaysPassed>
                <incident>RebootStoryteller_TextInputEvent</incident>
                <allowedTargetTags>
                    <li>World</li>
                </allowedTargetTags>
            </li>

            <li Class="StorytellerCompProperties_SingleOnceFixed">
                <fireAfterDaysPassed>60</fireAfterDaysPassed>
                <incident>RebootStoryteller_TextInputEvent</incident>
                <allowedTargetTags>
                    <li>World</li>
                </allowedTargetTags>
            </li>

            <li Class="StorytellerCompProperties_SingleOnceFixed">
                <fireAfterDaysPassed>90</fireAfterDaysPassed>
                <incident>RebootStoryteller_TextInputEvent</incident>
                <allowedTargetTags>
                    <li>World</li>
                </allowedTargetTags>
            </li>
            <li Class="Loyacore_RebootStoryteller.Sthri.Sthri_StorytellerCompProperties_Madness"/>
            <!-- Home threats（家园威胁控制） -->
            <li Class="StorytellerCompProperties_OnOffCycle">
                <!-- 重大威胁频率控制 -->
                <category>ThreatBig</category>
                <minDaysPassed>13.0</minDaysPassed> <!-- 相对于卡桑德拉 多给两天间隔期 -->
                <onDays>5.2</onDays> <!-- 小幅上调开启关闭时间 延后启动周期 -->
                <offDays>8.4</offDays>
                <minSpacingDays>1.2</minSpacingDays> <!-- 增加最小间隔天数 给玩家更多喘气时间 -->
                <numIncidentsRange>1~3</numIncidentsRange>
                <forceRaidEnemyBeforeDaysPassed>25</forceRaidEnemyBeforeDaysPassed> <!-- 多给了三天 也就是说
                游戏在每过25天内就得生成一次大型威胁 -->
                <disallowedTargetTags>
                    <li>Map_RaidBeacon</li>
                </disallowedTargetTags>
            </li>
            <li Class="StorytellerCompProperties_ThreatsGenerator">
                <!-- 袭击生成器 -->
                <allowedTargetTags>
                    <li>Map_RaidBeacon</li>
                </allowedTargetTags>
                <parms>
                    <allowedThreats>Raids</allowedThreats>
                    <onDays>1.0</onDays>
                    <offDays>0.5</offDays>
                    <minSpacingDays>0.04</minSpacingDays>
                    <numIncidentsRange>1~2</numIncidentsRange>
                    <minThreatPoints>500</minThreatPoints>
                </parms>
            </li>
            <li Class="StorytellerCompProperties_OnOffCycle">
                <!-- 小型威胁频率控制 -->
                <category>ThreatSmall</category>
                <minDaysPassed>14.0</minDaysPassed>
                <onDays>8.5</onDays>
                <offDays>8.0</offDays>
                <numIncidentsRange>0.2~1</numIncidentsRange>
                <acceptPercentFactorPerThreatPointsCurve>
                    <points>
                        <li>(800, 1)</li>
                        <li>(2800, 0)</li>
                    </points>
                </acceptPercentFactorPerThreatPointsCurve>
            </li>
            <!-- Home misc incidents（家园杂项事件） -->
            <li Class="StorytellerCompProperties_CategoryMTB">
                <!-- 基于平均时间配置事件调度 -->
                <category>Misc</category>
                <allowedTargetTags>
                    <li>Map_PlayerHome</li>
                </allowedTargetTags>
                <minDaysPassed>5</minDaysPassed>
                <mtbDays>4.8</mtbDays>
            </li>
            <li Class="StorytellerCompProperties_ShipChunkDrop" /><!-- 配置船块掉落 这里似乎是使用了系统默认行为 -->
            <li Class="StorytellerCompProperties_Disease">
                <!-- 配置人类疾病 -->
                <category>DiseaseHuman</category>
                <minDaysPassed>14</minDaysPassed> <!-- 多给5天最小间隔天数 -->
            </li>
            <li Class="StorytellerCompProperties_Disease">
                <!-- 配置动物疾病 -->
                <category>DiseaseAnimal</category>
                <minDaysPassed>12</minDaysPassed> <!-- 多给3天最小间隔天数 -->
            </li>
            <!-- Ally/neutral interaction（盟友/中立派系互动） -->
            <li Class="StorytellerCompProperties_FactionInteraction">
                <!-- 配置援军生成 -->
                <incident>RaidFriendly</incident>
                <baseIncidentsPerYear>18</baseIncidentsPerYear> <!-- 每年基本事件数 多给3个 -->
                <minSpacingDays>0.4</minSpacingDays>
                <fullAlliesOnly>true</fullAlliesOnly>
                <minDanger>High</minDanger>
            </li>
            <li Class="StorytellerCompProperties_FactionInteraction">
                <!-- 配置贸易商队生成 -->
                <incident>TraderCaravanArrival</incident>
                <minDaysPassed>5</minDaysPassed>
                <baseIncidentsPerYear>5</baseIncidentsPerYear>
                <minSpacingDays>6</minSpacingDays>
                <allowedTargetTags>
                    <li>Map_PlayerHome</li>
                </allowedTargetTags>
            </li>
            <li Class="StorytellerCompProperties_FactionInteraction">
                <!-- 配置访客团生成 -->
                <incident>VisitorGroup</incident>
                <minDaysPassed>3</minDaysPassed>
                <baseIncidentsPerYear>4</baseIncidentsPerYear>
                <minSpacingDays>5</minSpacingDays>
                <allowedTargetTags>
                    <li>Map_PlayerHome</li>
                </allowedTargetTags>
            </li>
            <li Class="StorytellerCompProperties_FactionInteraction">
                <!-- 配置旅行者事件生成 -->
                <incident>TravelerGroup</incident>
                <minDaysPassed>1</minDaysPassed>
                <baseIncidentsPerYear>6</baseIncidentsPerYear>
                <minSpacingDays>1</minSpacingDays>
                <allowedTargetTags>
                    <li>Map_PlayerHome</li>
                </allowedTargetTags>
            </li>
            <!-- Caravan / temp map（临时地图事件） -->
            <li Class="StorytellerCompProperties_CategoryIndividualMTBByBiome">
                <!-- 根据生物群落调整杂项(Misc)事件的生成 -->
                <category>Misc</category>
                <allowedTargetTags>
                    <li>Caravan</li>
                    <li>Map_TempIncident</li>
                </allowedTargetTags>
            </li>
            <li Class="StorytellerCompProperties_CategoryIndividualMTBByBiome">
                <!-- 根据生物群落调整小型威胁(ThreatSmall)事件的生成 -->
                <category>ThreatSmall</category>
                <applyCaravanVisibility>true</applyCaravanVisibility>
                <allowedTargetTags>
                    <li>Caravan</li>
                    <li>Map_TempIncident</li>
                </allowedTargetTags>
            </li>
            <li Class="StorytellerCompProperties_CategoryIndividualMTBByBiome">
                <!-- 根据生物群落调整大型威胁(ThreatBig)事件的生成 -->
                <category>ThreatBig</category>
                <applyCaravanVisibility>true</applyCaravanVisibility>
                <allowedTargetTags>
                    <li>Caravan</li>
                    <li>Map_TempIncident</li>
                </allowedTargetTags>
            </li>
            <!-- Quests - non-Royalty（没有皇权DL时的任务生成） -->
            <li Class="StorytellerCompProperties_RandomQuest">
                <!-- 控制基本任务赋予事件的生成 -->
                <category>GiveQuest</category>
                <allowedTargetTags>
                    <li>World</li>
                </allowedTargetTags>
                <onDays>10</onDays>
                <numIncidentsRange>1</numIncidentsRange>
                <acceptFractionByDaysPassedCurve>
                    <points>
                        <li>(8, 0)</li>
                        <li>(15, 1)</li>
                    </points>
                </acceptFractionByDaysPassedCurve>
                <minSpacingDays>3</minSpacingDays>
                <disableIfAnyModActive>
                    <!-- 在皇权DLC被禁用时才会生效 -->
                    <li>Ludeon.RimWorld.Royalty</li>
                </disableIfAnyModActive>
            </li>
            <!-- Quests - Royalty（存在皇权DLC时的任务生成） -->
            <li Class="StorytellerCompProperties_RandomQuest">
                <!-- 控制基本任务赋予事件的生成 -->
                <category>GiveQuest</category>
                <allowedTargetTags>
                    <li>World</li>
                </allowedTargetTags>
                <onDays>12</onDays>
                <numIncidentsRange>2</numIncidentsRange>
                <acceptFractionByDaysPassedCurve>
                    <points>
                        <li>(8, 0)</li>
                        <li>(15, 1)</li>
                    </points>
                </acceptFractionByDaysPassedCurve>
                <minSpacingDays>3</minSpacingDays>
                <enableIfAnyModActive>
                    <!-- 在皇权DLC启用时才会生效 -->
                    <li>Ludeon.RimWorld.Royalty</li>
                </enableIfAnyModActive>
            </li>
            <!-- World misc incidents（世界地图杂项事件） -->
            <li Class="StorytellerCompProperties_CategoryMTB">
                <!-- 根据事件类别计算的平均间隔时间生成杂项事件 -->
                <category>Misc</category>
                <allowedTargetTags>
                    <!-- 仅针对世界地图做设置 -->
                    <li>World</li>
                </allowedTargetTags>
                <minDaysPassed>15</minDaysPassed>
                <mtbDays>15</mtbDays>
            </li>
            <!-- Orbital trader（轨道商人事件） -->
            <li Class="StorytellerCompProperties_OnOffCycle">
                <!-- 控制轨道贸易商的生成周期 -->
                <incident>OrbitalTraderArrival</incident>
                <onDays>6</onDays>
                <offDays>7</offDays>
                <numIncidentsRange>1</numIncidentsRange>
            </li>
            <!-- Triggered（已触发，目前我只观察到这个对人死光了有作用） -->
            <li Class="StorytellerCompProperties_Triggered">
                <!-- 在人死光时送个黑衣人……卡桑德拉倒是仁慈哈 -->
                <incident>StrangerInBlackJoin</incident>
                <delayTicks>180</delayTicks>
            </li>
        </comps>
    </StorytellerDef>

</Defs>