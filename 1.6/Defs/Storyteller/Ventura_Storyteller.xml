<?xml version="1.0" encoding="utf-8"?>

<Defs>
    <StorytellerDef ParentName="BaseStoryteller">
        <defName>Reboot_Ventura</defName>
        <label>「制衡」文图拉Ventura</label>
        <description>「Re:boot No.002」\n\n她是REBOOT四人中唯一拥有全程“被绑架”记录的Player，大概是单纯倒霉被REBOOT看上了？\n\n她一直致力于逃脱REBOOT，文图拉并非武力派，通常以智识解决问题的她，对于你殖民者的遭遇，倒是能给一些科技上的援助。但代价是什么呢？\n\n文图拉心若止水，但擅长占卜的她，非常看重周期律和均衡问题，有关后者：她会将占卜介入到叙事中。七种象位将会如何影响叙事呢？那就得靠你自己去探索了。\n\n最后，文小姐手中的象位其实有一张是重复的，如何让它不再重复……也许得靠“你”找到那张丢失的象位了。</description>
        <portraitLarge>Storyteller/Ventura/Ventura_Teller</portraitLarge>
        <portraitTiny>Storyteller/Ventura/Ventura_TellerTiny</portraitTiny>
        <listOrder>56</listOrder>

        <adaptDaysGameStartGraceDays>25</adaptDaysGameStartGraceDays> <!--少给五天的适应天数宽限期-->
        <populationIntentFactorFromPopCurve>
            <!-- 根据人口规模计算事件强度因子 -->
            <points>
                <li>0, 8.0</li>
                <li>1, 2.4</li>
                <li>4, 1.4</li>
                <li>7, 1.2</li>
                <li>11, 1.0</li>
                <li>20, 0.0</li>
            </points>
        </populationIntentFactorFromPopCurve>
        <pointsFactorFromDaysPassed>
            <!-- 根据经过天数计算的事件强度因子 -->
            <points>
                <li>(10, 0.9)</li>
                <li>(40, 1.2)</li>
            </points>
        </pointsFactorFromDaysPassed>
        <adaptDaysLossFromColonistLostByPostPopulation>
            <!-- 根据人口损失减少适应天数 -->
            <points>
                <li>( 0, 25)</li> <!-- 30 days at normal pops; lower at really high pop -->
                <li>(11, 25)</li>
                <li>(20, 15)</li>
            </points>
        </adaptDaysLossFromColonistLostByPostPopulation>
        <pointsFactorFromAdaptDays>
            <!-- 根据适应天数计算的事件强度因子 -->
            <points>
                <li>(-30, 0.55)</li>  <!-- recover in 10 days -->
                <li>( 0, 0.85)</li>  <!-- start at     0.80  -->
                <li>( 30, 1.05)</li>  <!-- 0.5 years to 1.00  -->
                <li>( 60, 1.25)</li>  <!-- 0.5 years to 1.20  -->
                <li>(120, 1.75)</li>  <!-- 2   years to 1.60  -->
            </points>
        </pointsFactorFromAdaptDays>

        <comps>
            <!-- 注：模板提取自Rimworld: Core的卡桑德拉 -->
            <!-- Intro（介绍） -->
            <li Class="StorytellerCompProperties_ClassicIntro" />
            <!-- 我自己要触发的事件 -->
            <li Class="StorytellerCompProperties_SingleOnceFixed">
                <!-- 分别在15、35、65、100天触发四次弹窗 -->
                <fireAfterDaysPassed>15</fireAfterDaysPassed>
                <incident>RebootStoryteller_TextInputEvent</incident>
                <allowedTargetTags>
                    <li>World</li>
                </allowedTargetTags>
            </li>

            <li Class="StorytellerCompProperties_SingleOnceFixed">
                <fireAfterDaysPassed>35</fireAfterDaysPassed>
                <incident>RebootStoryteller_TextInputEvent</incident>
                <allowedTargetTags>
                    <li>World</li>
                </allowedTargetTags>
            </li>

            <li Class="StorytellerCompProperties_SingleOnceFixed">
                <fireAfterDaysPassed>65</fireAfterDaysPassed>
                <incident>RebootStoryteller_TextInputEvent</incident>
                <allowedTargetTags>
                    <li>World</li>
                </allowedTargetTags>
            </li>

            <li Class="StorytellerCompProperties_SingleOnceFixed">
                <fireAfterDaysPassed>100</fireAfterDaysPassed>
                <incident>RebootStoryteller_TextInputEvent</incident>
                <allowedTargetTags>
                    <li>World</li>
                </allowedTargetTags>
            </li>
            <!-- Home threats（家园威胁控制） -->
            <li Class="Loyacore_RebootStoryteller.Ventura.Ventura_StorytellerCompProperties_OnOffCycle">
                <!-- 重大威胁频率控制 -->
                <category>ThreatBig</category>
                <minDaysPassed>11.0</minDaysPassed>
                <onDays>3.6</onDays>
                <offDays>4.8</offDays>
                <minSpacingDays>1.0</minSpacingDays>
                <numIncidentsRange>1~3</numIncidentsRange>
                <forceRaidEnemyBeforeDaysPassed>20</forceRaidEnemyBeforeDaysPassed>
                <!-- 袭击点数提高1.2倍 -->
                <difficultyMultiplier>1.2</difficultyMultiplier>
                <difficultyMultiplier_Sthri>0.9</difficultyMultiplier_Sthri>
                <randomFactorRange_Helmi>0.7~1.3</randomFactorRange_Helmi>
                <disallowedTargetTags>
                    <li>Map_RaidBeacon</li>
                </disallowedTargetTags>
            </li>
            <li Class="Loyacore_RebootStoryteller.Ventura.Ventura_StorytellerCompProperties_ThreatsGenerator">
                <!-- 袭击生成器 -->
                <allowedTargetTags>
                    <li>Map_RaidBeacon</li>
                </allowedTargetTags>

                <parms>
                    <allowedThreats>Raids</allowedThreats>
                    <onDays>1.0</onDays>
                    <offDays>0.5</offDays>
                    <minSpacingDays>0.04</minSpacingDays>
                    <numIncidentsRange>1~2</numIncidentsRange>
                    <minThreatPoints>500</minThreatPoints>
                </parms>
                <!-- 袭击点数提高1.2倍 -->
                <difficultyMultiplier>1.2</difficultyMultiplier>
                <difficultyMultiplier_Sthri>0.9</difficultyMultiplier_Sthri>
                <randomFactorRange_Helmi>0.7~1.3</randomFactorRange_Helmi>
            </li>
            <li Class="Loyacore_RebootStoryteller.Ventura.Ventura_StorytellerCompProperties_OnOffCycle">
                <!-- 小型威胁频率控制 -->
                <category>ThreatSmall</category>
                <minDaysPassed>11.0</minDaysPassed>
                <onDays>3.6</onDays>
                <offDays>4.8</offDays>
                <numIncidentsRange>0.2~1</numIncidentsRange>
                <!-- 袭击点数提高1.2倍 -->
                <difficultyMultiplier>1.2</difficultyMultiplier>
                <difficultyMultiplier_Sthri>0.9</difficultyMultiplier_Sthri>
                <randomFactorRange_Helmi>0.7~1.3</randomFactorRange_Helmi>
                <acceptPercentFactorPerThreatPointsCurve>
                    <points>
                        <li>(800, 1)</li>
                        <li>(2800, 0)</li>
                    </points>
                </acceptPercentFactorPerThreatPointsCurve>
            </li>
            <!-- Home misc incidents（家园杂项事件） -->
            <li Class="StorytellerCompProperties_CategoryMTB">
                <!-- 基于平均时间配置事件调度 -->
                <category>Misc</category>
                <allowedTargetTags>
                    <li>Map_PlayerHome</li>
                </allowedTargetTags>
                <minDaysPassed>5</minDaysPassed>
                <mtbDays>4.8</mtbDays>
            </li>
            <li Class="StorytellerCompProperties_ShipChunkDrop" /><!-- 配置船块掉落 这里似乎是使用了系统默认行为 -->
            <li Class="StorytellerCompProperties_Disease">
                <!-- 配置人类疾病 -->
                <category>DiseaseHuman</category>
                <minDaysPassed>10</minDaysPassed>
            </li>
            <li Class="StorytellerCompProperties_Disease">
                <!-- 配置动物疾病 -->
                <category>DiseaseAnimal</category>
                <minDaysPassed>10</minDaysPassed>
            </li>
            <!-- Ally/neutral interaction（盟友/中立派系互动） -->
            <li Class="StorytellerCompProperties_FactionInteraction">
                <!-- 配置援军生成 -->
                <incident>RaidFriendly</incident>
                <baseIncidentsPerYear>16</baseIncidentsPerYear>
                <minSpacingDays>0.4</minSpacingDays>
                <fullAlliesOnly>true</fullAlliesOnly>
                <minDanger>High</minDanger>
            </li>
            <li Class="StorytellerCompProperties_FactionInteraction">
                <!-- 配置贸易商队生成 -->
                <incident>TraderCaravanArrival</incident>
                <minDaysPassed>5</minDaysPassed>
                <baseIncidentsPerYear>5</baseIncidentsPerYear>
                <minSpacingDays>6</minSpacingDays>
                <allowedTargetTags>
                    <li>Map_PlayerHome</li>
                </allowedTargetTags>
            </li>
            <li Class="StorytellerCompProperties_FactionInteraction">
                <!-- 配置访客团生成 -->
                <incident>VisitorGroup</incident>
                <minDaysPassed>3</minDaysPassed>
                <baseIncidentsPerYear>4</baseIncidentsPerYear>
                <minSpacingDays>5</minSpacingDays>
                <allowedTargetTags>
                    <li>Map_PlayerHome</li>
                </allowedTargetTags>
            </li>
            <li Class="StorytellerCompProperties_FactionInteraction">
                <!-- 配置旅行者事件生成 -->
                <incident>TravelerGroup</incident>
                <minDaysPassed>1</minDaysPassed>
                <baseIncidentsPerYear>6</baseIncidentsPerYear>
                <minSpacingDays>1</minSpacingDays>
                <allowedTargetTags>
                    <li>Map_PlayerHome</li>
                </allowedTargetTags>
            </li>
            <!-- Caravan / temp map（临时地图事件） -->
            <li Class="StorytellerCompProperties_CategoryIndividualMTBByBiome">
                <!-- 根据生物群落调整杂项(Misc)事件的生成 -->
                <category>Misc</category>
                <allowedTargetTags>
                    <li>Caravan</li>
                    <li>Map_TempIncident</li>
                </allowedTargetTags>
            </li>
            <li Class="StorytellerCompProperties_CategoryIndividualMTBByBiome">
                <!-- 根据生物群落调整小型威胁(ThreatSmall)事件的生成 -->
                <category>ThreatSmall</category>
                <applyCaravanVisibility>true</applyCaravanVisibility>
                <allowedTargetTags>
                    <li>Caravan</li>
                    <li>Map_TempIncident</li>
                </allowedTargetTags>
            </li>
            <li Class="StorytellerCompProperties_CategoryIndividualMTBByBiome">
                <!-- 根据生物群落调整大型威胁(ThreatBig)事件的生成 -->
                <category>ThreatBig</category>
                <applyCaravanVisibility>true</applyCaravanVisibility>
                <allowedTargetTags>
                    <li>Caravan</li>
                    <li>Map_TempIncident</li>
                </allowedTargetTags>
            </li>
            <!-- Quests - non-Royalty（没有皇权DL时的任务生成） -->
            <li Class="StorytellerCompProperties_RandomQuest">
                <!-- 控制基本任务赋予事件的生成 -->
                <category>GiveQuest</category>
                <allowedTargetTags>
                    <li>World</li>
                </allowedTargetTags>
                <onDays>10</onDays>
                <numIncidentsRange>1</numIncidentsRange>
                <acceptFractionByDaysPassedCurve>
                    <points>
                        <li>(8, 0)</li>
                        <li>(15, 1)</li>
                    </points>
                </acceptFractionByDaysPassedCurve>
                <minSpacingDays>3</minSpacingDays>
                <disableIfAnyModActive>
                    <!-- 在皇权DLC被禁用时才会生效 -->
                    <li>Ludeon.RimWorld.Royalty</li>
                </disableIfAnyModActive>
            </li>
            <!-- Quests - Royalty（存在皇权DLC时的任务生成） -->
            <li Class="StorytellerCompProperties_RandomQuest">
                <!-- 控制基本任务赋予事件的生成 -->
                <category>GiveQuest</category>
                <allowedTargetTags>
                    <li>World</li>
                </allowedTargetTags>
                <onDays>12</onDays>
                <numIncidentsRange>2</numIncidentsRange>
                <acceptFractionByDaysPassedCurve>
                    <points>
                        <li>(8, 0)</li>
                        <li>(15, 1)</li>
                    </points>
                </acceptFractionByDaysPassedCurve>
                <minSpacingDays>3</minSpacingDays>
                <enableIfAnyModActive>
                    <!-- 在皇权DLC启用时才会生效 -->
                    <li>Ludeon.RimWorld.Royalty</li>
                </enableIfAnyModActive>
            </li>
            <!-- World misc incidents（世界地图杂项事件） -->
            <li Class="StorytellerCompProperties_CategoryMTB">
                <!-- 根据事件类别计算的平均间隔时间生成杂项事件 -->
                <category>Misc</category>
                <allowedTargetTags>
                    <!-- 仅针对世界地图做设置 -->
                    <li>World</li>
                </allowedTargetTags>
                <minDaysPassed>15</minDaysPassed>
                <mtbDays>15</mtbDays>
            </li>
            <!-- Orbital trader（轨道商人事件） -->
            <li Class="StorytellerCompProperties_OnOffCycle">
                <!-- 控制轨道贸易商的生成周期 -->
                <incident>OrbitalTraderArrival</incident>
                <onDays>6</onDays>
                <offDays>7</offDays>
                <numIncidentsRange>1</numIncidentsRange>
            </li>
            <!-- Triggered（已触发，目前我只观察到这个对人死光了有作用） -->
            <li Class="StorytellerCompProperties_Triggered">
                <!-- 在人死光时送个黑衣人……卡桑德拉倒是仁慈哈 -->
                <incident>StrangerInBlackJoin</incident>
                <delayTicks>180</delayTicks>
            </li>
        </comps>
    </StorytellerDef>
</Defs>