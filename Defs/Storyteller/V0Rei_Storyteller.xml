<?xml version="1.0" encoding="utf-8"?>

<Defs>
    <StorytellerDef ParentName="BaseStoryteller">
        <defName>Reboot_V0Rei</defName>
        <label>「稚刃」未绫V0Rei</label>
        <description>「Re:boot No.000」\n\n来自炽国的一位肯特奈什，目前是穷奇组织的专业杀手。由于过于强烈的想要家人的愿望，她被REBOOT_SYSTEM选中。\n\n她给予的挑战通常都会维持在正常稍微偏下的水平。她安排的事件通常比较贴合殖民地发展水平，并且在有限的幅度范围内稍稍为你放一点水。\n\n未绫不喜欢吵闹，她安排袭击时会着重考虑殖民地人口，在此基础上，她可能还会干一些本职工作。\n\n最后：她偶尔会给点称不上是帮助的战斗援助，要是吃到了副作用……后果自负。</description>
        <portraitLarge>Storyteller/V0Rei/V0Rei_Teller</portraitLarge>
        <portraitTiny>Storyteller/V0Rei/V0Rei_TellerTiny</portraitTiny>
        <listOrder>54</listOrder>

        <populationIntentFactorFromPopCurve>
            <!-- 根据人口规模计算事件强度因子 -->
            <points>
                <li>0, 8.0</li>
                <li>1, 2.5</li>
                <li>4, 1.2</li>
                <li>7, 0.5</li>
                <li>9, 0.6</li>
                <li>11, 0.8</li>
                <li>15, 1.0</li>
            </points>
        </populationIntentFactorFromPopCurve>
        <pointsFactorFromDaysPassed>
            <!-- 根据经过天数计算的事件强度因子 -->
            <points>
                <li>(10, 0.65)</li>
                <li>(40, 0.95)</li>
            </points>
        </pointsFactorFromDaysPassed>
        <adaptDaysLossFromColonistLostByPostPopulation>
            <!-- 根据人口损失减少适应天数 -->
            <points>
                <li>( 0, 30)</li> <!-- 30 days at normal pops; lower at really high pop -->
                <li>(11, 25)</li>
                <li>(20, 15)</li>
            </points>
        </adaptDaysLossFromColonistLostByPostPopulation>
        <pointsFactorFromAdaptDays>
            <!-- 根据适应天数计算的事件强度因子 -->
            <points>
                <li>(-30, 0.37)</li>  <!-- recover in 10 days -->
                <li>( 0, 0.75)</li>  <!-- start at     0.80  -->
                <li>( 30, 0.97)</li>  <!-- 0.5 years to 1.00  -->
                <li>( 60, 1.15)</li>  <!-- 0.5 years to 1.20  -->
                <li>(120, 1.55)</li>  <!-- 2   years to 1.60  -->
            </points>
        </pointsFactorFromAdaptDays>

        <comps>
            <!-- Intro（介绍） -->
            <li Class="StorytellerCompProperties_ClassicIntro" />
            <!-- 我自己要触发的事件 -->
            <li Class="StorytellerCompProperties_SingleOnceFixed">
                <!-- 分别在16、25、35、45天触发四次弹窗 -->
                <!-- 猫猫的风格 就是快准狠！ -->
                <fireAfterDaysPassed>16</fireAfterDaysPassed>
                <incident>RebootStoryteller_TextInputEvent</incident>
                <allowedTargetTags>
                    <li>World</li>
                </allowedTargetTags>
            </li>

            <li Class="StorytellerCompProperties_SingleOnceFixed">
                <fireAfterDaysPassed>25</fireAfterDaysPassed>
                <incident>RebootStoryteller_TextInputEvent</incident>
                <allowedTargetTags>
                    <li>World</li>
                </allowedTargetTags>
            </li>

            <li Class="StorytellerCompProperties_SingleOnceFixed">
                <fireAfterDaysPassed>35</fireAfterDaysPassed>
                <incident>RebootStoryteller_TextInputEvent</incident>
                <allowedTargetTags>
                    <li>World</li>
                </allowedTargetTags>
            </li>

            <li Class="StorytellerCompProperties_SingleOnceFixed">
                <fireAfterDaysPassed>45</fireAfterDaysPassed>
                <incident>RebootStoryteller_TextInputEvent</incident>
                <allowedTargetTags>
                    <li>World</li>
                </allowedTargetTags>
            </li>
            <!-- 暗杀组件 -->
            <li Class="Loyacore_RebootStoryteller.V0Rei.StorytellerCompProperties_V0ReiAssassination"/>
            <!-- Home threats（家园威胁控制） -->
            <li Class="Loyacore_RebootStoryteller.StorytellerCompProperties_OnOffCycle_Base">
                <!-- 重大威胁频率控制 -->
                <!-- 研究本XML的朋友注意一下 原版的StorytellerCompProperties_OnOffCycle并不能配置固定乘数 -->
                <!-- 这个是我自己用C#实现的 -->
                <!-- 如果想用我实现的这个组件 注意category只能设置为ThreatBig或者ThreatSmall -->
                <category>ThreatBig</category>
                <minDaysPassed>11.0</minDaysPassed>
                <onDays>4.6</onDays>
                <offDays>6.0</offDays>
                <minSpacingDays>1.9</minSpacingDays>
                <numIncidentsRange>1~2</numIncidentsRange>
                <forceRaidEnemyBeforeDaysPassed>20</forceRaidEnemyBeforeDaysPassed>
                <!-- 袭击点数降低0.2 -->
                <difficultyMultiplier>0.8</difficultyMultiplier>
                <disallowedTargetTags>
                    <li>Map_RaidBeacon</li>
                </disallowedTargetTags>
            </li>
            <li Class="Loyacore_RebootStoryteller.StorytellerCompProperties_ThreatsGenerator_Base">
                <!-- 袭击生成器 -->
                <!-- 研究本XML的朋友注意一下 原版的StorytellerCompProperties_ThreatsGenerator并不能配置随机 -->
                <!-- 这个是我自己用C#实现的 -->
                <allowedTargetTags>
                    <li>Map_RaidBeacon</li>
                </allowedTargetTags>
                <parms>
                    <allowedThreats>Raids</allowedThreats>
                    <onDays>1.0</onDays>
                    <offDays>0.5</offDays>
                    <minSpacingDays>0.04</minSpacingDays>
                    <numIncidentsRange>1~2</numIncidentsRange>
                    <minThreatPoints>500</minThreatPoints>
                </parms>
                <!-- 袭击点数降低0.2 -->
                <difficultyMultiplier>0.8</difficultyMultiplier>
            </li>
            <li Class="Loyacore_RebootStoryteller.StorytellerCompProperties_OnOffCycle_Base">
                <!-- 小型威胁频率控制 -->
                <!-- 和上面那个一样 -->
                <category>ThreatSmall</category>
                <minDaysPassed>11.0</minDaysPassed>
                <onDays>4.6</onDays>
                <offDays>6.0</offDays>
                <numIncidentsRange>0.2~1</numIncidentsRange>
                <!-- 袭击点数降低0.2 -->
                <difficultyMultiplier>0.8</difficultyMultiplier>
                <acceptPercentFactorPerThreatPointsCurve>
                    <points>
                        <li>(800, 1)</li>
                        <li>(2800, 0)</li>
                    </points>
                </acceptPercentFactorPerThreatPointsCurve>
            </li>
            <!-- Home misc incidents（家园杂项事件） -->
            <li Class="StorytellerCompProperties_CategoryMTB">
                <!-- 基于平均时间配置事件调度 -->
                <category>Misc</category>
                <allowedTargetTags>
                    <li>Map_PlayerHome</li>
                </allowedTargetTags>
                <minDaysPassed>5</minDaysPassed>
                <mtbDays>4.8</mtbDays>
            </li>
            <li Class="StorytellerCompProperties_ShipChunkDrop" /><!-- 配置船块掉落 这里似乎是使用了系统默认行为 -->
            <li Class="StorytellerCompProperties_Disease">
                <!-- 配置人类疾病 -->
                <category>DiseaseHuman</category>
                <minDaysPassed>10</minDaysPassed>
            </li>
            <li Class="StorytellerCompProperties_Disease">
                <!-- 配置动物疾病 -->
                <category>DiseaseAnimal</category>
                <minDaysPassed>10</minDaysPassed>
            </li>
            <!-- Ally/neutral interaction（盟友/中立派系互动） -->
            <li Class="StorytellerCompProperties_FactionInteraction">
                <!-- 配置援军生成 -->
                <incident>RaidFriendly</incident>
                <baseIncidentsPerYear>15</baseIncidentsPerYear>
                <minSpacingDays>0.4</minSpacingDays>
                <fullAlliesOnly>true</fullAlliesOnly>
                <minDanger>High</minDanger>
            </li>
            <li Class="StorytellerCompProperties_FactionInteraction">
                <!-- 配置贸易商队生成 -->
                <incident>TraderCaravanArrival</incident>
                <minDaysPassed>5</minDaysPassed>
                <baseIncidentsPerYear>5</baseIncidentsPerYear>
                <minSpacingDays>6</minSpacingDays>
                <allowedTargetTags>
                    <li>Map_PlayerHome</li>
                </allowedTargetTags>
            </li>
            <li Class="StorytellerCompProperties_FactionInteraction">
                <!-- 配置访客团生成 -->
                <incident>VisitorGroup</incident>
                <minDaysPassed>3</minDaysPassed>
                <baseIncidentsPerYear>4</baseIncidentsPerYear>
                <minSpacingDays>5</minSpacingDays>
                <allowedTargetTags>
                    <li>Map_PlayerHome</li>
                </allowedTargetTags>
            </li>
            <li Class="StorytellerCompProperties_FactionInteraction">
                <!-- 配置旅行者事件生成 -->
                <incident>TravelerGroup</incident>
                <minDaysPassed>1</minDaysPassed>
                <baseIncidentsPerYear>6</baseIncidentsPerYear>
                <minSpacingDays>1</minSpacingDays>
                <allowedTargetTags>
                    <li>Map_PlayerHome</li>
                </allowedTargetTags>
            </li>
            <!-- Caravan / temp map（临时地图事件） -->
            <li Class="StorytellerCompProperties_CategoryIndividualMTBByBiome">
                <!-- 根据生物群落调整杂项(Misc)事件的生成 -->
                <category>Misc</category>
                <allowedTargetTags>
                    <li>Caravan</li>
                    <li>Map_TempIncident</li>
                </allowedTargetTags>
            </li>
            <li Class="StorytellerCompProperties_CategoryIndividualMTBByBiome">
                <!-- 根据生物群落调整小型威胁(ThreatSmall)事件的生成 -->
                <category>ThreatSmall</category>
                <applyCaravanVisibility>true</applyCaravanVisibility>
                <allowedTargetTags>
                    <li>Caravan</li>
                    <li>Map_TempIncident</li>
                </allowedTargetTags>
            </li>
            <li Class="StorytellerCompProperties_CategoryIndividualMTBByBiome">
                <!-- 根据生物群落调整大型威胁(ThreatBig)事件的生成 -->
                <category>ThreatBig</category>
                <applyCaravanVisibility>true</applyCaravanVisibility>
                <allowedTargetTags>
                    <li>Caravan</li>
                    <li>Map_TempIncident</li>
                </allowedTargetTags>
            </li>
            <!-- Quests - non-Royalty（没有皇权DL时的任务生成） -->
            <li Class="StorytellerCompProperties_RandomQuest">
                <!-- 控制基本任务赋予事件的生成 -->
                <category>GiveQuest</category>
                <allowedTargetTags>
                    <li>World</li>
                </allowedTargetTags>
                <onDays>10</onDays>
                <numIncidentsRange>1</numIncidentsRange>
                <acceptFractionByDaysPassedCurve>
                    <points>
                        <li>(8, 0)</li>
                        <li>(15, 1)</li>
                    </points>
                </acceptFractionByDaysPassedCurve>
                <minSpacingDays>3</minSpacingDays>
                <disableIfAnyModActive>
                    <!-- 在皇权DLC被禁用时才会生效 -->
                    <li>Ludeon.RimWorld.Royalty</li>
                </disableIfAnyModActive>
            </li>
            <!-- Quests - Royalty（存在皇权DLC时的任务生成） -->
            <li Class="StorytellerCompProperties_RandomQuest">
                <!-- 控制基本任务赋予事件的生成 -->
                <category>GiveQuest</category>
                <allowedTargetTags>
                    <li>World</li>
                </allowedTargetTags>
                <onDays>12</onDays>
                <numIncidentsRange>2</numIncidentsRange>
                <acceptFractionByDaysPassedCurve>
                    <points>
                        <li>(8, 0)</li>
                        <li>(15, 1)</li>
                    </points>
                </acceptFractionByDaysPassedCurve>
                <minSpacingDays>3</minSpacingDays>
                <enableIfAnyModActive>
                    <!-- 在皇权DLC启用时才会生效 -->
                    <li>Ludeon.RimWorld.Royalty</li>
                </enableIfAnyModActive>
            </li>
            <!-- World misc incidents（世界地图杂项事件） -->
            <li Class="StorytellerCompProperties_CategoryMTB">
                <!-- 根据事件类别计算的平均间隔时间生成杂项事件 -->
                <category>Misc</category>
                <allowedTargetTags>
                    <!-- 仅针对世界地图做设置 -->
                    <li>World</li>
                </allowedTargetTags>
                <minDaysPassed>15</minDaysPassed>
                <mtbDays>15</mtbDays>
            </li>
            <!-- Orbital trader（轨道商人事件） -->
            <li Class="StorytellerCompProperties_OnOffCycle">
                <!-- 控制轨道贸易商的生成周期 -->
                <incident>OrbitalTraderArrival</incident>
                <onDays>6</onDays>
                <offDays>7</offDays>
                <numIncidentsRange>1</numIncidentsRange>
            </li>
            <!-- Triggered（已触发，目前我只观察到这个对人死光了有作用） -->
            <li Class="StorytellerCompProperties_Triggered">
                <!-- 在人死光时送个黑衣人……卡桑德拉倒是仁慈哈 -->
                <incident>StrangerInBlackJoin</incident>
                <delayTicks>180</delayTicks>
            </li>
        </comps>
    </StorytellerDef>
</Defs>