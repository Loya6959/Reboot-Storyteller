<?xml version="1.0" encoding="utf-8"?>

<Defs>
    <StorytellerDef ParentName="BaseStoryteller">
        <defName>Reboot_Helmi</defName>
        <label>「戏剧」海露美Helmi</label>
        <description>「Re:boot No.006」\n\n谁也不知道她的身世，可能只有收取她记忆，令其上岸的REBOOT略知一二？\n\n她对歌声与艺术非常在意，她偶尔会给你的殖民者一些艺术上的帮助。\n\n海露美喜欢变数和戏剧，在有限的范围内，海露美会为挑战或增幅或放水，增减幅度完全看她心情。\n\n在这个由她主导的边缘世界，让她发怒的方法还真是没有。但也许……用了你不该用的力量，会招致她头上海神大人的疯狂报复？</description>
        <portraitLarge>Storyteller/Helmi/Helmi_Teller</portraitLarge>
        <portraitTiny>Storyteller/Helmi/Helmi_TellerTiny</portraitTiny>
        <listOrder>55</listOrder>
        <adaptDaysGameStartGraceDays>25</adaptDaysGameStartGraceDays> <!--少给五天的适应天数宽限期-->

        <populationIntentFactorFromPopCurve>
            <!-- 根据人口规模计算事件强度因子 -->
            <points>
                <li>0, 8.0</li>
                <li>1, 2.3</li>
                <li>4, 1.2</li>
                <li>7, 0.45</li>
                <li>10, 0.25</li>
                <li>20,-0.85</li>
            </points>
        </populationIntentFactorFromPopCurve>
        <pointsFactorFromDaysPassed>
            <!-- 根据经过天数计算的事件强度因子 -->
            <points> <!--均在原版曲线的基础上多加了五天-->
                <li>(10, 0.75)</li>
                <li>(35, 1.00)</li>
            </points>
        </pointsFactorFromDaysPassed>
        <adaptDaysLossFromColonistLostByPostPopulation>
            <!-- 根据人口损失减少适应天数 -->
            <points>
                <li>( 0, 28)</li> <!-- 30 days at normal pops; lower at really high pop -->
                <li>(11, 28)</li>
                <li>(20, 20)</li>
            </points>
        </adaptDaysLossFromColonistLostByPostPopulation>
        <pointsFactorFromAdaptDays>
            <!-- 根据适应天数计算的事件强度因子 -->
            <points>
                <li>(-30, 0.45)</li>  <!-- recover in 10 days -->
                <li>( 0, 0.85)</li>  <!-- start at     0.80  -->
                <li>( 30, 1.05)</li>  <!-- 0.5 years to 1.00  -->
                <li>( 60, 1.25)</li>  <!-- 0.5 years to 1.20  -->
                <li>(120, 1.70)</li>  <!-- 2   years to 1.60  -->
            </points>
        </pointsFactorFromAdaptDays>

        <comps>
            <!-- Intro（介绍） -->
            <li Class="StorytellerCompProperties_ClassicIntro" />
            <!-- 我自己要触发的事件 -->
            <li Class="StorytellerCompProperties_SingleOnceFixed">
                <!-- 分别在15、25、60、70天触发四次弹窗 -->
                <fireAfterDaysPassed>15</fireAfterDaysPassed>
                <incident>RebootStoryteller_TextInputEvent</incident>
                <allowedTargetTags>
                    <li>World</li>
                </allowedTargetTags>
            </li>
            <li Class="StorytellerCompProperties_SingleOnceFixed">
                <fireAfterDaysPassed>25</fireAfterDaysPassed>
                <incident>RebootStoryteller_TextInputEvent</incident>
                <allowedTargetTags>
                    <li>World</li>
                </allowedTargetTags>
            </li>
            <li Class="StorytellerCompProperties_SingleOnceFixed">
                <fireAfterDaysPassed>60</fireAfterDaysPassed>
                <incident>RebootStoryteller_TextInputEvent</incident>
                <allowedTargetTags>
                    <li>World</li>
                </allowedTargetTags>
            </li>
            <li Class="StorytellerCompProperties_SingleOnceFixed">
                <fireAfterDaysPassed>70</fireAfterDaysPassed>
                <incident>RebootStoryteller_TextInputEvent</incident>
                <allowedTargetTags>
                    <li>World</li>
                </allowedTargetTags>
            </li>
            <!-- 专门的艺术激励 -->
            <li Class="Loyacore_RebootStoryteller.Helmi.StorytellerCompProperties_ArtisticProtection_Helmi">
                <numberOfDaysInterval>15</numberOfDaysInterval>
                <probability>0.08</probability>
            </li>
            <!-- 海神惩戒 -->
            <li Class="Loyacore_RebootStoryteller.Helmi.StorytellerCompProperties_PoseidonJudgment_Helmi"/>
            <!-- Home threats（家园威胁控制） -->
            <li Class="Loyacore_RebootStoryteller.Helmi.StorytellerCompProperties_OnOffCycle_Helmi">
                <!-- 重大威胁频率控制 -->
                <!-- 研究本XML的朋友注意一下 原版的StorytellerCompProperties_OnOffCycle并不能配置随机 -->
                <!-- 这个是我自己用C#实现的 -->
                <!-- 如果想用我实现的这个组件 注意category只能设置为ThreatBig或者ThreatSmall -->
                <category>ThreatBig</category>
                <minDaysPassed>11.0</minDaysPassed>
                <onDays>3.8</onDays>
                <offDays>6.0</offDays>
                <minSpacingDays>1.2</minSpacingDays>
                <numIncidentsRange>1~2</numIncidentsRange>
                <forceRaidEnemyBeforeDaysPassed>20</forceRaidEnemyBeforeDaysPassed>
                <randomFactorRange>0.7~1.3</randomFactorRange> <!-- 这个字段是作用于事件生成后袭击点数的 -->
                <disallowedTargetTags>
                    <li>Map_RaidBeacon</li>
                </disallowedTargetTags>
            </li>
            <li Class="Loyacore_RebootStoryteller.Helmi.StorytellerCompProperties_ThreatsGenerator_Helmi">
                <!-- 袭击生成器 -->
                <!-- 研究本XML的朋友注意一下 原版的StorytellerCompProperties_ThreatsGenerator并不能配置随机 -->
                <!-- 这个是我自己用C#实现的 -->
                <allowedTargetTags>
                    <li>Map_RaidBeacon</li>
                </allowedTargetTags>
                <parms>
                    <allowedThreats>Raids</allowedThreats>
                    <onDays>1.0</onDays>
                    <offDays>0.5</offDays>
                    <minSpacingDays>0.04</minSpacingDays>
                    <numIncidentsRange>1~2</numIncidentsRange>
                    <minThreatPoints>500</minThreatPoints>
                </parms>
                <randomFactorRange>0.7~1.3</randomFactorRange>
            </li>
            <li Class="Loyacore_RebootStoryteller.Helmi.StorytellerCompProperties_OnOffCycle_Helmi">
                <!-- 小型威胁频率控制 -->
                <!-- 和上面那个一样 -->
                <category>ThreatSmall</category>
                <minDaysPassed>11.0</minDaysPassed>
                <onDays>3.8</onDays>
                <offDays>6.0</offDays>
                <numIncidentsRange>0.2~1</numIncidentsRange>
                <randomFactorRange>0.6~1.4</randomFactorRange>
                <acceptPercentFactorPerThreatPointsCurve>
                    <points>
                        <li>(800, 1)</li>
                        <li>(2800, 0)</li>
                    </points>
                </acceptPercentFactorPerThreatPointsCurve>
            </li>
            <!-- Home misc incidents（家园杂项事件） -->
            <li Class="StorytellerCompProperties_CategoryMTB">
                <!-- 基于平均时间配置事件调度 -->
                <category>Misc</category>
                <allowedTargetTags>
                    <li>Map_PlayerHome</li>
                </allowedTargetTags>
                <minDaysPassed>5</minDaysPassed>
                <mtbDays>4.8</mtbDays>
            </li>
            <li Class="StorytellerCompProperties_ShipChunkDrop" /><!-- 配置船块掉落 这里似乎是使用了系统默认行为 -->
            <li Class="StorytellerCompProperties_Disease">
                <!-- 配置人类疾病 -->
                <category>DiseaseHuman</category>
                <minDaysPassed>9</minDaysPassed>
            </li>
            <li Class="StorytellerCompProperties_Disease">
                <!-- 配置动物疾病 -->
                <category>DiseaseAnimal</category>
                <minDaysPassed>9</minDaysPassed>
            </li>
            <!-- Ally/neutral interaction（盟友/中立派系互动） -->
            <li Class="StorytellerCompProperties_FactionInteraction">
                <!-- 配置援军生成 -->
                <incident>RaidFriendly</incident>
                <baseIncidentsPerYear>15</baseIncidentsPerYear>
                <minSpacingDays>0.4</minSpacingDays>
                <fullAlliesOnly>true</fullAlliesOnly>
                <minDanger>High</minDanger>
            </li>
            <li Class="StorytellerCompProperties_FactionInteraction">
                <!-- 配置贸易商队生成 -->
                <incident>TraderCaravanArrival</incident>
                <minDaysPassed>5</minDaysPassed>
                <baseIncidentsPerYear>5</baseIncidentsPerYear>
                <minSpacingDays>6</minSpacingDays>
                <allowedTargetTags>
                    <li>Map_PlayerHome</li>
                </allowedTargetTags>
            </li>
            <li Class="StorytellerCompProperties_FactionInteraction">
                <!-- 配置访客团生成 -->
                <incident>VisitorGroup</incident>
                <minDaysPassed>3</minDaysPassed>
                <baseIncidentsPerYear>4</baseIncidentsPerYear>
                <minSpacingDays>5</minSpacingDays>
                <allowedTargetTags>
                    <li>Map_PlayerHome</li>
                </allowedTargetTags>
            </li>
            <li Class="StorytellerCompProperties_FactionInteraction">
                <!-- 配置旅行者事件生成 -->
                <incident>TravelerGroup</incident>
                <minDaysPassed>1</minDaysPassed>
                <baseIncidentsPerYear>6</baseIncidentsPerYear>
                <minSpacingDays>1</minSpacingDays>
                <allowedTargetTags>
                    <li>Map_PlayerHome</li>
                </allowedTargetTags>
            </li>
            <!-- Caravan / temp map（临时地图事件） -->
            <li Class="StorytellerCompProperties_CategoryIndividualMTBByBiome">
                <!-- 根据生物群落调整杂项(Misc)事件的生成 -->
                <category>Misc</category>
                <allowedTargetTags>
                    <li>Caravan</li>
                    <li>Map_TempIncident</li>
                </allowedTargetTags>
            </li>
            <li Class="StorytellerCompProperties_CategoryIndividualMTBByBiome">
                <!-- 根据生物群落调整小型威胁(ThreatSmall)事件的生成 -->
                <category>ThreatSmall</category>
                <applyCaravanVisibility>true</applyCaravanVisibility>
                <allowedTargetTags>
                    <li>Caravan</li>
                    <li>Map_TempIncident</li>
                </allowedTargetTags>
            </li>
            <li Class="StorytellerCompProperties_CategoryIndividualMTBByBiome">
                <!-- 根据生物群落调整大型威胁(ThreatBig)事件的生成 -->
                <category>ThreatBig</category>
                <applyCaravanVisibility>true</applyCaravanVisibility>
                <allowedTargetTags>
                    <li>Caravan</li>
                    <li>Map_TempIncident</li>
                </allowedTargetTags>
            </li>
            <!-- Quests - non-Royalty（没有皇权DL时的任务生成） -->
            <li Class="StorytellerCompProperties_RandomQuest">
                <!-- 控制基本任务赋予事件的生成 -->
                <category>GiveQuest</category>
                <allowedTargetTags>
                    <li>World</li>
                </allowedTargetTags>
                <onDays>10</onDays>
                <numIncidentsRange>1</numIncidentsRange>
                <acceptFractionByDaysPassedCurve>
                    <points>
                        <li>(8, 0)</li>
                        <li>(15, 1)</li>
                    </points>
                </acceptFractionByDaysPassedCurve>
                <minSpacingDays>3</minSpacingDays>
                <disableIfAnyModActive>
                    <!-- 在皇权DLC被禁用时才会生效 -->
                    <li>Ludeon.RimWorld.Royalty</li>
                </disableIfAnyModActive>
            </li>
            <!-- Quests - Royalty（存在皇权DLC时的任务生成） -->
            <li Class="StorytellerCompProperties_RandomQuest">
                <!-- 控制基本任务赋予事件的生成 -->
                <category>GiveQuest</category>
                <allowedTargetTags>
                    <li>World</li>
                </allowedTargetTags>
                <onDays>12</onDays>
                <numIncidentsRange>2</numIncidentsRange>
                <acceptFractionByDaysPassedCurve>
                    <points>
                        <li>(8, 0)</li>
                        <li>(15, 1)</li>
                    </points>
                </acceptFractionByDaysPassedCurve>
                <minSpacingDays>3</minSpacingDays>
                <enableIfAnyModActive>
                    <!-- 在皇权DLC启用时才会生效 -->
                    <li>Ludeon.RimWorld.Royalty</li>
                </enableIfAnyModActive>
            </li>
            <!-- World misc incidents（世界地图杂项事件） -->
            <li Class="StorytellerCompProperties_CategoryMTB">
                <!-- 根据事件类别计算的平均间隔时间生成杂项事件 -->
                <category>Misc</category>
                <allowedTargetTags>
                    <!-- 仅针对世界地图做设置 -->
                    <li>World</li>
                </allowedTargetTags>
                <minDaysPassed>15</minDaysPassed>
                <mtbDays>15</mtbDays>
            </li>
            <!-- Orbital trader（轨道商人事件） -->
            <li Class="StorytellerCompProperties_OnOffCycle">
                <!-- 控制轨道贸易商的生成周期 -->
                <incident>OrbitalTraderArrival</incident>
                <onDays>7</onDays>
                <offDays>8</offDays>
                <numIncidentsRange>1</numIncidentsRange>
            </li>
            <!-- Triggered（已触发，目前我只观察到这个对人死光了有作用） -->
            <li Class="StorytellerCompProperties_Triggered">
                <!-- 在人死光时送个黑衣人……卡桑德拉倒是仁慈哈 -->
                <incident>StrangerInBlackJoin</incident>
                <delayTicks>180</delayTicks>
            </li>
        </comps>
    </StorytellerDef>
</Defs>